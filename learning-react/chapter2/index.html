<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>chapter3</title>
    <style>
      div {
        margin: 10px;
        padding: 10px;
        border: medium solid blue;
      }
    </style>
  </head>
  <body>
    <!-- <button onclick="test()">テストボタン</button><br /> -->
    <button onclick="kansugatatoha()">関数型とは？</button><br />
    <button onclick="kannsuugatapuroguramingunokihongainenn()">関数型プログラミングの基本概念</button><br />
    <script>
      // function test() {
      //   console.log("test");
      // }

      // 第一章
      function kansugatatoha() {
        const msg = [
          "testtest",
          msg => console.log(msg),
          "test2",
          msg => console.log(msg)
        ];
        // msg[1](msg[0]);
        // msg[3](msg[2]);

        // 関数を別の関数に引数として渡す
        const insideFn = logger => {
          logger("inside function test");
        };
        // insideFn(msg => console.log(msg));

        // 戻り値を関数にする
        const createScream = function (logger) {
          return function (msg) {
            logger(`${msg.toUpperCase()}!!!`);
          };
        };
        // ↑のアロー関数ver
        // const createScream = logger => msg => {
        //   logger(`${msg.toUpperCase()}!!!`);
        // };
        const scream = createScream(msg => console.log(msg));
        scream("I'm kyosuke fujiki");
        scream("23 years old");
        scream("I'm happy");
      }

      // 第二章

      // 第三章
      function kannsuugatapuroguramingunokihongainenn() {
        let color_lawn = {
          title: "lawn",
          color: "#00FF00",
          rating: 0
        };
        // ↓ オブジェクトを受け取っているので、オブジェクトそのものを変更してしまっている
        // function rateColor(color, rating) {
        //   color.rating = rating;
        //   return color;
        // }
        // 上記をイミュータブルにする（例１）
        // function rateColor(color, rating) {
        //   return Object.assign({}, color, { rating: rating });
        // }
        // 上記をイミュータブルにする（例２）
        const rateColor = ( color, rating ) => ({
          ...color,
          rating
        });
        console.log(rateColor(color_lawn, 5).rating)
        console.log(color_lawn.rating)
      }
    </script>
  </body>
</html>
